using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Web.Mvc;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using BookingSystem;
using BookingSystem.Controllers;
using BookingSystem.Models;

namespace BookingSystem.Tests.Controllers
{
    [TestClass]
    public class BookingControllerTest
    {
        [TestMethod]
        public void TestDetailsView()
        {
            // Arrange
            // Make Booking object to represent data from database
            Booking booking = new Booking()
            {
                Id = 2,
                AcademicYear = "2009",
                Address1 = "Chapelizord",
                Address2 = "Dublin",
                Address3 = "Co. Dublin",
                Eircode = "D20WP68",
                ClassGroups = "4th Years",
                County = "Dublin",
                Date = DateTime.Today,
                DeisSchool = "No",
                Email = "office@prtb.ie",
                EndTime = "15:00",
                FeePayingSchool = "Yes",
                GaeltachtArea = "No",
                LecturerName = "John Doe",
                OfficialSchoolName = "Loreto",
                PhoneNumber = "01-4595324",
                PrincipalName = "John Doe",
                Religion = "Catholic",
                RollNumber = "60010P",
                StartTime = "10:00",
                SchoolGender = "mixed",
                Surveys = true,
                TeacherName = "Ms Smith",
                Topics = "Intro",
                TotalBoys = 105,
                TotalGirls = 100,
                TotalPupils = 205,
                X = 320163.012m,
                Y = 730088.854m,
                Latitude = 53.61m,
                Longitude = -6.18m,
                ITMEast = 72008.39m,
                ITMNorth = 764023.21m
            };
        
            var controller = new BookingController();

            //Act
            var result = controller.Details(2) as ViewResult;
            var model = result.Model as Booking;

            //Assert
            //Assert.IsNotNull(result);
            Assert.AreEqual(booking.OfficialSchoolName, model.OfficialSchoolName);
        }
    }
}
